@{
    ViewData["Title"] = "Angles Over Time";
}
<h2>Angles Over Time</h2>

<style>
    .toolbar {
        display: flex;
        gap: .5rem;
        align-items: center;
        flex-wrap: wrap;
        margin-bottom: .75rem;
    }

    .series-list {
        display: flex;
        gap: .5rem;
        flex-wrap: wrap;
        margin: .5rem 0 1rem;
    }

    .series-chip {
        display: inline-flex;
        align-items: center;
        gap: .5rem;
        padding: .25rem .5rem;
        border-radius: 999px;
        background: #f2f2f2;
        border: 1px solid #ddd;
        font-size: .9rem;
    }

        .series-chip .color-dot {
            width: .8rem;
            height: .8rem;
            border-radius: 50%;
            display: inline-block;
        }

        .series-chip button {
            border: none;
            background: transparent;
            cursor: pointer;
            font-weight: bold;
            line-height: 1;
        }

    .chart-wrap {
        width: 100%;
        max-width: 1000px;
    }
</style>

<div class="toolbar">
    <label for="anglesManikinSelect">Manikin:</label>
    <select id="anglesManikinSelect"></select>

    <label for="angleKindSelect">Angle:</label>
    <select id="angleKindSelect"></select>

    <button id="addSeriesBtn" class="btn btn-primary">Add</button>
</div>

<button id="xDragReset" type="button" class="btn btn-sm btn-outline-secondary">
    Reset Zoom
</button>


<div class="series-list" id="seriesList"></div>

<div class="chart-wrap">
    <canvas id="anglesChart" height="120"></canvas>
</div>
<button id="downloadCsvBtn" class="btn btn-secondary">Download CSV</button>
@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2"></script>
    <script>
        (function () {
            const plug =
                window.ChartZoom ||
                (window['chartjs-plugin-zoom'] && window['chartjs-plugin-zoom'].default) ||
                window['chartjs-plugin-zoom'];
            if (window.Chart && plug) {
                Chart.register(plug);
            }
        })();
    </script>

    <script src="~/js/angles.js" asp-append-version="true"></script>

}
